#!/usr/bin/env python3
"""Mock squeue command for testing."""

import argparse
import random

MOCK_JOBS = [
    ("12345", "train_model", "RUNNING", "2:34:56", "4", "gpu-node-[01-04]"),
    ("12346", "preprocess", "RUNNING", "0:45:12", "1", "cpu-node-05"),
    ("12347", "evaluate", "PENDING", "0:00", "2", "(Priority)"),
    ("12348", "inference", "PENDING", "0:00", "1", "(Resources)"),
    ("12349", "data_load", "RUNNING", "1:23:45", "1", "gpu-node-08"),
]


def main() -> None:
    parser = argparse.ArgumentParser()
    parser.add_argument("-u", "--user", default=None)
    parser.add_argument("-o", "--format", default=None)
    args = parser.parse_args()

    # Output header
    print("     JOBID|        JOBNAME|   STATE|      TIME|   NODES|      NODELIST")

    # Randomly select some jobs to simulate dynamic queue
    num_jobs = random.randint(2, len(MOCK_JOBS))
    for job in random.sample(MOCK_JOBS, num_jobs):
        job_id, name, state, time, nodes, nodelist = job
        print(f"{job_id:>10}|{name:>15}|{state:>8}|{time:>10}|{nodes:>7}|{nodelist:>14}")


if __name__ == "__main__":
    main()
