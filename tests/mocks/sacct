#!/usr/bin/env python3
"""Mock sacct command for testing."""

import argparse

# Tuple format: (JobID, Name, State, Restarts, Elapsed, ExitCode, NodeList, Submit, Start, End)
MOCK_HISTORY = [
    (
        "12345",
        "train_model",
        "RUNNING",
        "0",
        "2:34:56",
        "0:0",
        "gpu-node-[01-04]",
        "2024-01-15T10:30:00",
        "2024-01-15T10:35:00",
        "Unknown",
    ),
    (
        "12344",
        "train_model",
        "COMPLETED",
        "2",
        "4:00:00",
        "0:0",
        "gpu-node-[01-04]",
        "2024-01-15T06:00:00",
        "2024-01-15T06:05:00",
        "2024-01-15T10:05:00",
    ),
    (
        "12343",
        "preprocess",
        "COMPLETED",
        "0",
        "0:30:00",
        "0:0",
        "cpu-node-05",
        "2024-01-15T05:00:00",
        "2024-01-15T05:02:00",
        "2024-01-15T05:32:00",
    ),
    (
        "12342",
        "failed_job",
        "FAILED",
        "3",
        "0:05:23",
        "1:0",
        "gpu-node-02",
        "2024-01-15T04:00:00",
        "2024-01-15T04:01:00",
        "2024-01-15T04:06:23",
    ),
    (
        "12341",
        "timeout_job",
        "TIMEOUT",
        "0",
        "24:00:00",
        "0:0",
        "cpu-node-[01-08]",
        "2024-01-14T08:00:00",
        "2024-01-14T08:05:00",
        "2024-01-15T08:05:00",
    ),
    (
        "12340",
        "cancelled",
        "CANCELLED",
        "0",
        "0:10:00",
        "0:0",
        "gpu-node-01",
        "2024-01-14T12:00:00",
        "2024-01-14T12:01:00",
        "2024-01-14T12:11:00",
    ),
    (
        "12339",
        "inference",
        "COMPLETED",
        "1",
        "1:45:00",
        "0:0",
        "gpu-node-03",
        "2024-01-14T14:00:00",
        "2024-01-14T14:05:00",
        "2024-01-14T15:50:00",
    ),
    (
        "12338",
        "data_prep",
        "COMPLETED",
        "0",
        "0:20:00",
        "0:0",
        "cpu-node-10",
        "2024-01-14T10:00:00",
        "2024-01-14T10:01:00",
        "2024-01-14T10:21:00",
    ),
    (
        "12337",
        "node_fail",
        "NODE_FAIL",
        "0",
        "0:15:00",
        "0:0",
        "gpu-node-07",
        "2024-01-14T09:00:00",
        "2024-01-14T09:02:00",
        "2024-01-14T09:17:00",
    ),
    (
        "12336",
        "long_train",
        "COMPLETED",
        "5",
        "48:00:00",
        "0:0",
        "gpu-node-[01-08]",
        "2024-01-12T08:00:00",
        "2024-01-12T08:30:00",
        "2024-01-14T08:30:00",
    ),
]


def main() -> None:
    """Main entry point for mock sacct command."""
    parser = argparse.ArgumentParser()
    parser.add_argument("-u", "--user", default=None)
    parser.add_argument("--format", default=None)
    parser.add_argument("-S", "--starttime", default=None)
    parser.add_argument("-X", action="store_true")
    parser.add_argument("-P", action="store_true")
    parser.parse_args()

    # Output header
    print("JobID|JobName|State|Restart|Elapsed|ExitCode|NodeList|Submit|Start|End")

    # Output all mock history
    for job in MOCK_HISTORY:
        print("|".join(job))


if __name__ == "__main__":
    main()
